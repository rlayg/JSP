<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="../js/httpRequest.js"></script>
<script type="text/javascript">
	function chk() {
		var params = "name="+encodeURIComponent(frm.name.value);
		//sendRequest(url(server PGM), params, callback, method)
		sendRequest("hello.jsp",       params,  callbackFun,  "POST"); //callbackFun는 callback함수를 나타냄
	} /* "hello.jsp"가 끝나면 callbackFun을 실행시켜라 콜백펑션*/
	function callbackFun() {
		if(httpRequest.readyState==4) // 서버에서 완전하게 응답이 도착한 경우, 보통 readyState 값이 4인 경우에 기능 구현
			if(httpRequest.status==200) { //200은 정상표시// 정상적으로 응답
				var text1 = httpRequest.responseText;
				start = text1.indexOf("<body>");
				end = text1.indexOf("</body>");
				var text2 = text1.substring(start+6,end);
				alert(text1);
				alert(text2);
			} else alert("Server 오류");
	}
</script>
</head>
<body>
	<h2>이름을 입력하세용</h2>
	<form name="frm" action="">
		<input type="text" name="name"><p>
		<input type="button" value="확인" onclick="chk()"><p>
	</form>
</body>
</html>